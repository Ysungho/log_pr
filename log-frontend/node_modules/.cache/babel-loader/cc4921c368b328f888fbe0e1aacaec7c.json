{"remainingRequest":"C:\\Visual Studio Code\\log-frontend\\node_modules\\babel-loader\\lib\\index.js!C:\\Visual Studio Code\\log-frontend\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Visual Studio Code\\log-frontend\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Visual Studio Code\\log-frontend\\src\\components\\Circle.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Visual Studio Code\\log-frontend\\src\\components\\Circle.vue","mtime":1635836126000},{"path":"C:\\Visual Studio Code\\log-frontend\\babel.config.js","mtime":1635836126000},{"path":"C:\\Visual Studio Code\\log-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689391186843},{"path":"C:\\Visual Studio Code\\log-frontend\\node_modules\\babel-loader\\lib\\index.js","mtime":1689391188787},{"path":"C:\\Visual Studio Code\\log-frontend\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1689391186843},{"path":"C:\\Visual Studio Code\\log-frontend\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1689391189205}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHN0b3JlIGZyb20gJy4uL3N0b3JlJzsKaW1wb3J0IHsgY29tcHV0ZWQsIG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSc7CmltcG9ydCB7IGNpcmNsZVdpZHRoLCBjaXJjbGVIZWlnaHQgfSBmcm9tICcuLi9jb25maWcnOwppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmNvbnN0IGZvcm1hdCA9IGQzLmZvcm1hdCgiLjAlIik7CmNvbnN0IHBpZUdlbmVyYXRvciA9IGQzLnBpZSgpLnNvcnQobnVsbCk7CmZ1bmN0aW9uIGFyY1R3ZWVuKHBpZSwgYXJjLCB0ZXh0RE9NKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChkKSB7CiAgICBjb25zdCBpbnRlcnBvbGF0ZSA9IGQzLmludGVycG9sYXRlKHBpZVswXS5zdGFydEFuZ2xlLCBwaWVbMF0uZW5kQW5nbGUpOwogICAgY29uc3QgaW50ZXJwb2xhdGVUZXh0ID0gZDMuaW50ZXJwb2xhdGUoMCwgcGllWzBdLnZhbHVlKTsKICAgIHJldHVybiBmdW5jdGlvbiAodCkgewogICAgICBkLmVuZEFuZ2xlID0gaW50ZXJwb2xhdGUodCk7CiAgICAgIHRleHRET00udGV4dChmb3JtYXQoaW50ZXJwb2xhdGVUZXh0KHQpIC8gMTAwKSk7CiAgICAgIHJldHVybiBhcmMoZCk7CiAgICB9OwogIH07Cn0KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjaXJjbGVDb21wb25lbnQnLAogIHByb3BzOiB7CiAgICB0eXBlOiBTdHJpbmcsCiAgICBuYW1lOiBTdHJpbmcKICB9LAogIHNldHVwKHByb3BzKSB7CiAgICBsZXQgc3ZnLCBhcmMsIGZvcmVncm91bmQsIHRleHRET007CiAgICBjb25zdCBzcGVjTG9nID0gY29tcHV0ZWQoKCkgPT4gc3RvcmUuZ2V0dGVyc1snc3BlY0xvZyddKTsKICAgIGNvbnN0IGNpcmNsZVR5cGUgPSBjb21wdXRlZCgoKSA9PiBwcm9wcy50eXBlKTsKICAgIGNvbnN0IHNldEFyZWFBbmRTY2FsZSA9IGtleSA9PiB7CiAgICAgIGNvbnN0IHJhZGl1cyA9IE1hdGgubWluKGNpcmNsZVdpZHRoLCBjaXJjbGVIZWlnaHQpIC8gMi41OwogICAgICBzdmcgPSBkMy5zZWxlY3QoYC5jaXJjbGUtJHtrZXl9YCkuYXBwZW5kKCJzdmciKS5hdHRyKCJ3aWR0aCIsIGNpcmNsZVdpZHRoKS5hdHRyKCJoZWlnaHQiLCBjaXJjbGVIZWlnaHQpLmFwcGVuZCgiZyIpLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHtjaXJjbGVXaWR0aCAvIDJ9LCR7Y2lyY2xlV2lkdGggLyAyfSlgKTsKICAgICAgYXJjID0gZDMuYXJjKCkuaW5uZXJSYWRpdXMocmFkaXVzICogMC45KS5vdXRlclJhZGl1cyhyYWRpdXMpOwogICAgICBzdmcuYXBwZW5kKCJwYXRoIikuZGF0YShwaWVHZW5lcmF0b3IoWzEwMF0pKS5hdHRyKCJjbGFzcyIsICJiYWNrQ29sb3IiKS5hdHRyKCJkIiwgYXJjKTsKICAgICAgZm9yZWdyb3VuZCA9IHN2Zy5hcHBlbmQoInBhdGgiKS5kYXRhKHBpZUdlbmVyYXRvcihbMCwgMTAwXSkpLmF0dHIoImNsYXNzIiwgYGZyb250Q29sb3ItJHtjaXJjbGVUeXBlLnZhbHVlfWApLmF0dHIoImQiLCBhcmMpOwogICAgICB0ZXh0RE9NID0gc3ZnLmFwcGVuZCgidGV4dCIpLmF0dHIoInRleHQtYW5jaG9yIiwgIm1pZGRsZSIpLmF0dHIoImR5IiwgIi4zZW0iKS5hdHRyKCJmb250LXNpemUiLCAiMmVtIik7CiAgICB9OwogICAgLy9kcmF37JeQ7ISc64qUIOuNsOydtO2EsCDsspjrpqzqsIAg7JWE64uMIGRhdGHrpbwg7Ya17ZW07IScIOywqO2KuO2LgCDqt7jrpqzripQg6rKD7JeQIOuMgO2VtCDsp5HspJHtlbTslbwg7ZWc64ukLiAKICAgIGNvbnN0IGRyYXcgPSAoZGF0YSwga2V5KSA9PiB7CiAgICAgIGRhdGEgPSBkYXRhW2tleV07CiAgICAgIGZvcmVncm91bmQudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCkuYXR0clR3ZWVuKCJkIiwgYXJjVHdlZW4ocGllR2VuZXJhdG9yKFtkYXRhLCAxMDAgLSBkYXRhXSksIGFyYywgdGV4dERPTSkpLmRlbGF5KDEwMDApOwogICAgfTsKICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIHNldEFyZWFBbmRTY2FsZShjaXJjbGVUeXBlLnZhbHVlKTsKICAgICAgc3RvcmUuc3Vic2NyaWJlKG11dGF0aW9uID0+IHsKICAgICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gIkNIQU5HRV9TUEVDIikgewogICAgICAgICAgZHJhdyhzcGVjTG9nLnZhbHVlLCBjaXJjbGVUeXBlLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gewogICAgICBjaXJjbGVUeXBlLAogICAgICBzcGVjTG9nCiAgICB9OwogIH0KfTs="},{"version":3,"names":["store","computed","onMounted","circleWidth","circleHeight","d3","format","pieGenerator","pie","sort","arcTween","arc","textDOM","d","interpolate","startAngle","endAngle","interpolateText","value","t","text","name","props","type","String","setup","svg","foreground","specLog","getters","circleType","setAreaAndScale","key","radius","Math","min","select","append","attr","innerRadius","outerRadius","data","draw","transition","duration","attrTween","delay","subscribe","mutation"],"sources":["C:\\Visual Studio Code\\log-frontend\\src\\components\\Circle.vue"],"sourcesContent":["<template>\n  <div>\n    <div :class=\"`circle circle-${circleType}`\"></div>\n    <p class=\"description\">{{circleType}} : 총 {{specLog[circleType]}}% 사용중</p>\n  </div>\n</template>\n\n<script>\n  import store from '../store'\n  import {\n    computed,\n    onMounted,\n  } from 'vue'\n  import {\n    circleWidth,\n    circleHeight\n  } from '../config'\n  import * as d3 from 'd3'\n  const format = d3.format(\".0%\");\n\n  const pieGenerator = d3.pie().sort(null)\n\n  function arcTween(pie, arc, textDOM) {\n    return function (d) {\n      const interpolate = d3.interpolate(pie[0].startAngle, pie[0].endAngle);\n      const interpolateText = d3.interpolate(0, pie[0].value);\n      return function (t) {\n        d.endAngle = interpolate(t);\n        textDOM.text(format(interpolateText(t) / 100));\n        return arc(d);\n      }\n    }\n  }\n  export default {\n    name: 'circleComponent',\n    props: {\n      type: String,\n      name: String\n    },\n    setup(props) {\n      let svg, arc, foreground, textDOM\n      const specLog = computed(() => store.getters['specLog'])\n      const circleType = computed(() => props.type)\n\n      const setAreaAndScale = (key) => {\n        const radius = Math.min(circleWidth, circleHeight) / 2.5;\n        svg = d3.select(`.circle-${key}`).append(\"svg\")\n          .attr(\"width\", circleWidth)\n          .attr(\"height\", circleHeight)\n          .append(\"g\")\n          .attr(\"transform\", `translate(${circleWidth / 2},${circleWidth / 2})`)\n        arc = d3.arc()\n          .innerRadius(radius * 0.9)\n          .outerRadius(radius);\n        svg.append(\"path\")\n          .data(pieGenerator([100]))\n          .attr(\"class\", \"backColor\")\n          .attr(\"d\", arc)\n        foreground = svg.append(\"path\")\n          .data(pieGenerator([0, 100]))\n          .attr(\"class\", `frontColor-${circleType.value}`)\n          .attr(\"d\", arc)\n        textDOM = svg.append(\"text\")\n          .attr(\"text-anchor\", \"middle\")\n          .attr(\"dy\", \".3em\")\n          .attr(\"font-size\", \"2em\");\n      }\n      //draw에서는 데이터 처리가 아닌 data를 통해서 차트틀 그리는 것에 대해 집중해야 한다. \n      const draw = (data, key) => {\n        data = data[key];\n        foreground.transition()\n          .duration(500)\n          .attrTween(\"d\", arcTween(pieGenerator([data, 100 - data]), arc, textDOM))\n          .delay(1000)\n      }\n      onMounted(() => {\n        setAreaAndScale(circleType.value);\n        store.subscribe((mutation) => {\n          if (mutation.type === \"CHANGE_SPEC\") {\n            draw(specLog.value, circleType.value);\n          }\n        })\n      })\n      return {\n        circleType,\n        specLog\n      }\n    }\n  }\n</script>\n\n<style>\n  p.description {\n    position: relative;\n    bottom: 10px;\n  }\n\n  .backColor {\n    stroke: #e2e2e2;\n    fill: #e2e2e2;\n  }\n\n  .frontColor-cpuUsage {\n    stroke: #69a9cd;\n    fill: #69a9cd;\n\n  }\n\n  .frontColor-memUsage {\n    stroke: #4fc08d;\n    fill: #4fc08d;\n  }\n</style>"],"mappings":"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"}]}